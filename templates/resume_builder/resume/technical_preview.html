{% extends "resume_base.html" %}
{% block content %}

  <div class="row">
    <!-- Left Sidebar -->
    <div class="col-md-4 bg-danger text-white p-4 rounded-start">
      <h5 class="fw-bold border-bottom border-white pb-2">Skills</h5>
      <ul class="list-unstyled">
        {% for skill in resume.skill_set.all %}
          <li class="mb-2">{{ skill.name }}</li>
        {% endfor %}
      </ul>

      <h5 class="fw-bold border-bottom border-white pt-4 pb-2">Languages</h5>
      <ul class="list-unstyled">
        {% for lang in resume.language_set.all %}
          <li class="mb-2">{{ lang.name }}</li>
        {% endfor %}
      </ul>
    </div>

    <!-- Main Content -->
    <div class="col-md-8 p-4">
      <div class="text-center mb-4">
        <h1 class="fw-bold text-danger">{{ resume.title }}</h1>
        <h6 class="text-muted">{{ resume.subtitle }}</h6>
        <hr>
      </div>

      <div class="mb-4">
        <p>{{ resume.summary }}</p>
      </div>

      
        <!-- Title and Summary -->
<div class="mb-4">
  <h1 class="fw-bold text-danger">{{ resume.title }}</h1>
  <h5 class="text-secondary">{{ resume.summary }}</h5>
  <hr class="border-danger border-2 opacity-100" style="width: 60px;">
</div>

        <h5 class="text-danger fw-bold border-bottom pb-2">Work Experience</h5>
        {% for exp in resume.workexperience_set.all %}
          <div class="mb-3">
            <strong>{{ exp.position }}</strong> <span class="text-muted">{{ exp.start_date }} - {{ exp.end_date|default:"Present" }}</span><br>
            <span class="text-muted">{{ exp.company }}</span>
            <ul>
              {% for point in exp.description.splitlines %}
                {% if point.strip %}<li>{{ point }}</li>{% endif %}
              {% endfor %}
            </ul>
          </div>
        {% endfor %}
    

      <div class="mb-4">
        <h5 class="text-danger fw-bold border-bottom pb-2">Education</h5>
        {% for edu in resume.education_set.all %}
          <div class="mb-3">
            <strong>{{ edu.degree }}</strong> <span class="text-muted">{{ edu.start_date }} - {{ edu.end_date|default:"Present" }}</span><br>
            <span class="text-muted">{{ edu.institution }}</span>
            <p>{{ edu.description }}</p>
          </div>
        {% endfor %}
      </div>

      <div class="mb-4">
        <h5 class="text-danger fw-bold border-bottom pb-2">Technical Skills</h5>
        {% for skill in resume.technicalskill_set.all %}
          <p><strong>{{ skill.technology.name }}</strong> – {{ skill.get_proficiency_display }} ({{ skill.years_experience }} yrs)</p>
        {% empty %}
          <p>No skills added yet.</p>
        {% endfor %}
      </div>

      <div class="mb-4">
        <h5 class="text-danger fw-bold border-bottom pb-2">Projects</h5>
        {% for project in resume.project_set.all %}
          <div class="mb-2">
            <strong>{{ project.name }}</strong><br>
            <small class="text-muted">{{ project.start_date }} - {{ project.end_date|default:"Present" }}</small>
            <p>{{ project.description }}</p>
            {% if project.url %}<a href="{{ project.url }}" target="_blank">{{ project.url }}</a>{% endif %}
          </div>
        {% empty %}
          <p>No projects listed.</p>
        {% endfor %}
      </div>

      <div class="mb-4">
        <h5 class="text-danger fw-bold border-bottom pb-2">Certifications</h5>
        {% for cert in resume.certification_set.all %}
          <p>{{ cert.name }} – {{ cert.issuer }} ({{ cert.date_awarded }})</p>
        {% empty %}
          <p>No certifications added yet.</p>
        {% endfor %}
      </div>
    </div>
  </div>

{% endblock %}
